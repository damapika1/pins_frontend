(this.webpackJsonppins=this.webpackJsonppins||[]).push([[0],{102:function(e){e.exports=JSON.parse('{"base_url":"http://localhost:9000/api","token_key":"auth_token"}')},109:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return o}));var r=n(6),c=n(9),a=n(28),i=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var c,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.post("/users/login",{email:t,password:n});case 2:return c=e.sent,i=c.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,c,i,s,o;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.name,c=t.email,i=t.password,e.next=3,a.a.post("/users/register",{name:n,email:c,password:i});case 3:return s=e.sent,o=s.data,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var n,c;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.a.get("/users/".concat(t));case 2:return n=e.sent,c=n.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},17:function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return O})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n(6),c=n(9),a=n(10),i=n(0),s=n(28),o=n(109),l=n(102),u=n(70),d=n(2),b=l.token_key,j=Object(i.createContext)();function p(t){if(!t)return{};var n=t.split(".")[1],r=e.from(n,"base64").toString("ascii");return JSON.parse(r)}function f(e){return e?("number"!==typeof e&&(e=Number(e)),isNaN(e)?null:new Date(1e3*e)):null}var m=function(){return Object(i.useContext)(j)},O=function(){var e=m(),t=e.token,n=e.user,r=e.ready,c=e.loading,a=e.error,i=e.hasRole;return{token:t,user:n,ready:r,error:a,loading:c,isAuthed:Boolean(t),hasRole:i}},x=function(){return m().login},h=function(){return m().logout},g=function(){return m().register},v=function(e){var t=e.children,n=Object(u.a)().showToast,l=Object(i.useState)(!1),m=Object(a.a)(l,2),O=m[0],x=m[1],h=Object(i.useState)(!1),g=Object(a.a)(h,2),v=g[0],w=g[1],y=Object(i.useState)(""),C=Object(a.a)(y,2),k=C[0],S=C[1],F=Object(i.useState)(localStorage.getItem(b)),P=Object(a.a)(F,2),E=P[0],D=P[1],A=Object(i.useState)(null),_=Object(a.a)(A,2),B=_[0],z=_[1],I=Object(i.useCallback)(function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,n){var c,a,i,l,u;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=p(t),a=c.exp,i=c.userId,l=f(a),(u=l>=new Date)?localStorage.setItem(b,t):(localStorage.removeItem(b),t=null),s.b(t),D(t),x(t&&u),n||!u){e.next=11;break}return e.next=10,o.a(i);case 10:n=e.sent;case 11:z(n);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]);Object(i.useEffect)((function(){I(E)}),[E,I]);var L=Object(i.useCallback)(function(){var e=Object(c.a)(Object(r.a)().mark((function e(t,c){var a,i,s;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),S(null),e.next=5,o.b(t,c);case 5:return a=e.sent,i=a.token,s=a.user,e.next=10,I(i,s);case 10:return n("pages:login.success","success"),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),console.error(e.t0),S("Login failed, try again"),e.abrupt("return",!1);case 19:return e.prev=19,w(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,14,19,22]])})));return function(t,n){return e.apply(this,arguments)}}(),[I]),q=Object(i.useCallback)(function(){var e=Object(c.a)(Object(r.a)().mark((function e(t){var c,a,i;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),S(null),e.next=5,o.c(t);case 5:return c=e.sent,a=c.token,i=c.user,e.next=10,I(a,i);case 10:return n("pages:register.success","success"),e.abrupt("return",!0);case 14:return e.prev=14,e.t0=e.catch(0),S(e.t0),e.abrupt("return",!1);case 18:return e.prev=18,w(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])})));return function(t){return e.apply(this,arguments)}}(),[I]),R=Object(i.useCallback)((function(){I(null,null),n("pages:logout.success","success")}),[I]),T=Object(i.useCallback)((function(e){return!!B&&B.roles.includes(e)}),[B]),W=Object(i.useMemo)((function(){return{token:E,user:B,ready:O,loading:v,error:k,login:L,logout:R,register:q,hasRole:T}}),[E,B,O,v,k,L,R,q,T]);return Object(d.jsx)(j.Provider,{value:W,children:t})}}).call(this,n(234).Buffer)},182:function(e){e.exports=JSON.parse('{"login":{"login":"Log in","title":"Sign in to your account","register":"Register","success":"You have been signed in!","warning":{"title":"Failed to log in!","info":"Check if you used the correct email address and password."},"extra":"Don\'t have an account?","input":{"email":"Email address","password":"Password","confirmPassword":"Confirm Password"},"input-error":{"email":{"required":"Email is required","incorrect":"The given email address is invalid"},"password":{"required":"Password is required","minLength":"Password needs to be at least uit 8 characters long"}},"button":{"signin":"Sign in"}},"register":{"register":"Register","login":"Login","title":"Sign up","success":"You have been registered!","warning":{"title":"Failed to register!","info":"There is already an account with this e-mail address."},"extra":"Already a user? ","input":{"name":"Name","email":"Email address","password":"Password","confirmPassword":"Confirm Password"},"input-error":{"name":{"required":"Name is required","minLength":"Name needs to be at least uit 2 characters long","maxLength":"Name can not be longer than 50 characters"},"email":{"required":"Email is required","incorrect":"The given email address is invalid"},"password":{"required":"Password is required","minLength":"Password needs to be at least uit 8 characters long"},"confirmPassword":{"required":"Confirm password is required","minLength":"Confirm password needs to be at least uit 8 characters long","match":"Password and confirm password must match"}},"button":{"signup":"Sign up"}},"logout":{"success":"You have been logged out!"}}')},183:function(e){e.exports=JSON.parse('{"view":{"title":"Pin view","input":{"title":"Title","fav":"Favourite","description":"Description","date":"Date","user":{"title":"Created by","name":"Username","email":"User e-mail"}}},"create":{"title":"Create pin","success":"Pin was successfully created!","warning":"Something went wrong! Couldn\'t create a pin.","input":{"title":"Title","fav":"Favourite this pin","description":"Description"},"input-error":{"title":{"required":"Name is required","minLength":"Name must be between 2 and 50 characters","maxLength":"Name must be between 2 and 50 characters"},"description":{"maxLength":"The description can\'t be longer than 255 characters"}},"button":{"yes":"Create pin","no":"Cancel","upload":"Upload picture"}},"update":{"title":"Update pin","success":"Pin was successfully updated.","warning":"Something went wrong! Couldn\'t update the pin.","input":{"title":"Title","fav":"Favourite this pin","description":"Description"},"input-error":{"title":{"required":"Name is required","minLength":"Name must be between 2 and 50 characters","maxLength":"Name must be between 2 and 50 characters"},"description":{"maxLength":"The description can\'t be longer than 255 characters"}},"button":{"yes":"Update","no":"Cancel","upload":"Upload picture"}},"delete":{"success":"Pin was successfully deleted.","warning":"Something went wrong! Couldn\'t delete the pin.","popup":{"header":"Delete pin","body":"Are you sure you want to delete this pin?","no":"Cancel","yes":"Delete"}}}')},184:function(e){e.exports=JSON.parse('{"create":{"title":"Create comment","success":"The comment was successfully created!","warning":"Something went wrong! Couldn\'t create a comment."},"update":{"title":"Update comment","success":"The comment was successfully updated.","warning":"Something went wrong! Couldn\'t update the comment."},"delete":{"success":"The comment was successfully deleted.","warning":"Something went wrong! Couldn\'t delete the comment."}}')},185:function(e){e.exports=JSON.parse('{"shared":{"toast":{"title":{"error":"Error","success":"Success","info":"Info","warning":"Warning"},"message":{"success":{"create":"{{entity}} successfully created","update":"{{entity}} successfully updated","delete":"{{entity}} successfully deleted"}}},"error":{"code":{"unknown":"unknown error","ERR_OP_001":"Invalid login"}}}}')},214:function(e,t,n){},215:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(170),c=n.n(r),a=n(102),i=c.a.create({baseURL:"https://rayme-webservices.herokuapp.com/api/",headers:{Authorization:"Bearer ".concat(localStorage.getItem(a.token_key))}}),s=function(e){e?i.defaults.headers.Authorization="Bearer ".concat(e):delete i.defaults.headers.Authorization}},355:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(46),i=n.n(a),s=(n(214),n(215),n(18)),o=n(29),l=n(8),u=n(6),d=n(9),b=n(10),j=n(28),p=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/comments",{params:{limit:25,offset:0}});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r,c,a,i,s,o,l;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.comment,c=t.date,a=t.pinId,i=n?"put":"post",s="/comments/".concat(null!==n&&void 0!==n?n:""),e.next=5,Object(j.a)({method:i,url:s,data:{comment:r,date:c,pinId:a}});case 5:return o=e.sent,l=o.data,e.abrupt("return",l);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("/comments/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=n(17),x=n(70),h=n(2),g=Object(r.createContext)(),v=function(){return Object(r.useContext)(g)},w=function(e){var t=e.children,n=Object(x.a)().showToast,c=Object(r.useState)(!1),a=Object(b.a)(c,2),i=a[0],s=a[1],o=Object(r.useState)([]),l=Object(b.a)(o,2),j=l[0],v=l[1],w=Object(r.useState)(!1),y=Object(b.a)(w,2),C=y[0],k=y[1],S=Object(r.useState)(""),F=Object(b.a)(S,2),P=F[0],E=F[1],D=Object(r.useState)({}),A=Object(b.a)(D,2),_=A[0],B=A[1],z=Object(O.e)().ready,I=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(""),k(!0),e.next=5,p();case 5:t=e.sent,v(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:return e.prev=12,k(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),L=Object(r.useCallback)((function(e){B(null===e?{}:j.find((function(t){return t.id===e})))}),[j]);Object(r.useEffect)((function(){z&&!i&&(I(),s(!0))}),[i,I,z]);var q=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var r,c,a,i,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,c=t.comment,a=t.date,i=t.pinId,s=r?"update":"create",e.prev=2,E(""),k(!0),e.next=7,f({id:r,comment:c,date:a,pinId:i});case 7:return e.next=9,I();case 9:n("comments:"+s+".success","success"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),E(e.t0),n("comments:"+s+".warning","warning"),console.log(e.t0);case 17:return e.prev=17,k(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[I]),R=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(""),k(!0),e.next=5,m(t);case 5:I(),n("comments:delete.success","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n("comments:delete.warning","warning"),E(e.t0);case 13:return e.prev=13,k(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[I]),T=Object(r.useMemo)((function(){return{comments:j,error:P,loading:C,createOrUpdateComment:q,deleteComment:R,currentComment:_,setCommentToUpdate:L}}),[j,P,C,q,R,_,L]);return Object(h.jsx)(g.Provider,{value:T,children:t})},y=function(){var e=Object(d.a)(Object(u.a)().mark((function e(){var t,n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/pins",{params:{limit:25,offset:0}});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r,c,a,i,s,o,l,d,b;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.title,c=t.date,a=t.fav,i=t.description,s=t.userId,o=n?"put":"post",l="/pins/".concat(null!==n&&void 0!==n?n:""),e.next=5,Object(j.a)({method:o,url:l,data:{title:r,date:c,fav:a,description:i,userId:s}});case 5:return d=e.sent,b=d.data,e.abrupt("return",b);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("/pins/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=Object(r.createContext)(),F=function(){return Object(r.useContext)(S)},P=function(e){var t=e.children,n=Object(x.a)().showToast,c=Object(r.useState)(!1),a=Object(b.a)(c,2),i=a[0],s=a[1],o=Object(r.useState)([]),l=Object(b.a)(o,2),j=l[0],p=l[1],f=Object(r.useState)(!1),m=Object(b.a)(f,2),g=m[0],v=m[1],w=Object(r.useState)(""),F=Object(b.a)(w,2),P=F[0],E=F[1],D=Object(r.useState)({}),A=Object(b.a)(D,2),_=A[0],B=A[1],z=Object(O.e)().ready,I=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(""),v(!0),e.next=5,y();case 5:t=e.sent,p(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),E(e.t0);case 12:return e.prev=12,v(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),[]),L=Object(r.useCallback)((function(e){B(null===e?{}:j.find((function(t){return t.id===e})))}),[j]);Object(r.useEffect)((function(){z&&!i&&(I(),s(!0))}),[i,I,z]);var q=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var r,c,a,i,s,o,l;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,c=t.title,a=t.date,i=t.fav,s=t.description,o=t.userId,l=r?"update":"create",e.prev=2,E(""),v(!0),e.next=7,C({id:r,title:c,date:a,fav:i,description:s,userId:o});case 7:return e.next=9,I();case 9:n("pins:"+l+".success","success"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),E(e.t0),n("pins:"+l+".warning","warning"),console.log(e.t0);case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[2,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),[I]),R=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(""),v(!0),e.next=5,k(t);case 5:I(),n("pins:delete.success","success"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),n("pins:delete.warning","warning"),E(e.t0);case 13:return e.prev=13,v(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[I]),T=Object(r.useMemo)((function(){return{pins:j,error:P,loading:g,createOrUpdatePin:q,deletePin:R,currentPin:_,setPinToUpdate:L}}),[j,P,g,q,R,_,L]);return Object(h.jsx)(S.Provider,{value:T,children:t})},E=n(176),D=n(140),A=function(){return Object(h.jsx)(D.b,{p:10,children:Object(h.jsxs)(D.n,{spacing:10,children:[Object(h.jsx)(D.h,{as:"h1",children:"This is the home page"}),Object(h.jsx)(E.LoremIpsum,{p:2})]})})},_=n(169),B=n(141),z=function(e){var t=e.to,n=e.label;return Object(h.jsx)(o.b,{to:t,_hover:{},children:n})};function I(){var e=Object(O.e)().isAuthed,t=Object(O.c)(),n=Object(l.g)(),c=Object(r.useCallback)((function(){t()}),[t]),a=Object(r.useCallback)((function(){n("/login")}),[n]),i=Object(r.useCallback)((function(){n("/register")}),[n]),s=Object(r.useCallback)((function(){n("/account",{replace:!0})}),[n]);return Object(h.jsx)(D.b,{align:"center",bg:"#ffa4e65c",children:Object(h.jsxs)(D.f,{align:"center",py:{base:4},px:{base:10},gap:10,children:[Object(h.jsx)(z,{to:"/",label:"Home"}),Object(h.jsx)(z,{to:"/pins",label:"Pins"}),Object(h.jsx)(D.m,{}),Object(h.jsxs)(_.a,{children:[Object(h.jsx)(_.b,{as:B.a,children:"Profile"}),Object(h.jsxs)(_.f,{children:[Object(h.jsx)(_.d,{title:"Profile",children:e?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_.e,{onClick:s,children:"Account"}),Object(h.jsx)(_.e,{onClick:c,children:"Log out "})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(_.e,{onClick:a,children:"Sign in"}),Object(h.jsx)(_.e,{onClick:i,children:"Register"})]})}),Object(h.jsx)(_.c,{})]})]})]})})}var L=n(16),q=n(63),R=n(68),T=n(163),W=n(97),N=n(27),M=n(30),U=n(357);function H(){var e=Object(l.g)(),t=Object(O.e)(),n=t.loading,c=t.error,a=t.isAuthed,i=Object(O.b)(),s=Object(U.a)("pages",{keyPrefix:"login"}).t,b=M.a().shape({password:M.c().min(8,s("input-error.password.minLength")).required(s("input-error.password.required")),email:M.c().email(s("input-error.email.incorrect")).required(s("input-error.email.required"))});return Object(r.useEffect)((function(){a&&e("/")}),[e,a]),Object(h.jsxs)(D.n,{minH:"100vh",direction:{base:"column",md:"row"},children:[Object(h.jsx)(D.f,{p:8,flex:1,align:"center",justify:"center",children:Object(h.jsxs)(D.n,{spacing:4,w:"full",maxW:"md",children:[c?Object(h.jsxs)(q.a,{status:"warning",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",children:[Object(h.jsx)(q.c,{boxSize:"40px",mr:0}),Object(h.jsx)(q.d,{mt:4,mb:1,fontSize:"lg",children:s("warning.title")}),Object(h.jsx)(q.b,{maxWidth:"sm",children:s("warning.info")})]}):null,Object(h.jsx)(D.h,{fontSize:"2xl",children:s("title")}),Object(h.jsx)(N.c,{initialValues:{email:"",password:""},validationSchema:b,onSubmit:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t.email,t.password);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(h.jsxs)(N.b,{children:[Object(h.jsx)(N.a,{name:"email",children:function(e){var t=e.field,n=e.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!c&&n.errors.email&&n.touched.email,children:[Object(h.jsx)(R.c,{children:s("input.email")}),Object(h.jsx)(T.a,Object(L.a)({placeholder:"your@email.com","data-cy":"email_input",id:"email",type:"email"},t)),n.errors.email&&n.touched.email?Object(h.jsx)(R.b,{children:n.errors.email}):null]})}}),Object(h.jsx)(N.a,{name:"password",children:function(e){var t=e.field,n=e.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!c&&n.errors.password&&n.touched.password,children:[Object(h.jsx)(R.c,{children:s("input.password")}),Object(h.jsx)(T.a,Object(L.a)({"data-cy":"password_input",id:"password",type:"password"},t)),n.errors.password&&n.touched.password?Object(h.jsx)(R.b,{children:n.errors.password}):null]})}}),Object(h.jsxs)(D.n,{spacing:6,children:[Object(h.jsx)(D.n,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between"}),Object(h.jsx)(B.a,{"data-cy":"login_btn",type:"submit",colorScheme:"red",variant:"solid",isLoading:n,children:s("button.signin")})]})]})}),Object(h.jsx)(D.n,{pt:6,children:Object(h.jsxs)(D.p,{align:"center",children:[s("extra")," ",Object(h.jsx)(D.i,{as:o.b,to:"/register",color:"blue.600",children:s("register")})]})})]})}),Object(h.jsx)(D.f,{flex:1,children:Object(h.jsx)(W.a,{alt:"Login Image",objectFit:"cover",src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80"})})]})}function J(){var e=Object(U.a)("pages",{keyPrefix:"register"}).t,t=M.a().shape({name:M.c().min(2,e("input-error.name.minLength")).max(50,e("input-error.name.maxLength")).required(e("input-error.name.required")),password:M.c().min(8,e("input-error.password.minLength")).required(e("input-error.password.required")),email:M.c().email(e("input-error.email.incorrect")).required(e("input-error.email.required")),confirmPassword:M.c().min(8,e("input-error.confirmPassword.minLength")).required(e("input-error.confirmPassword.required")).oneOf([M.b("password"),null],e("input-error.confirmPassword.match"))}),n=Object(l.g)(),c=Object(O.e)(),a=c.loading,i=c.error,s=c.isAuthed,b=Object(O.d)();return Object(r.useEffect)((function(){s&&n("/")}),[n,s]),Object(h.jsxs)(D.n,{minH:"100vh",direction:{base:"column",md:"row"},children:[Object(h.jsx)(D.f,{p:8,flex:1,align:"center",justify:"center",children:Object(h.jsxs)(D.n,{spacing:4,w:"full",maxW:"md",children:[i?Object(h.jsxs)(q.a,{status:"warning",variant:"subtle",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",children:[Object(h.jsx)(q.c,{boxSize:"40px",mr:0}),Object(h.jsx)(q.d,{mt:4,mb:1,fontSize:"lg",children:e("warning.title")}),Object(h.jsx)(q.b,{maxWidth:"sm",children:e("warning.info")})]}):null,Object(h.jsx)(D.h,{fontSize:"2xl",children:e("title")}),Object(h.jsx)(N.c,{initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:t,onSubmit:function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:Object(h.jsxs)(N.b,{children:[Object(h.jsx)(N.a,{name:"name",children:function(t){var n=t.field,r=t.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!i&&r.errors.name&&r.touched.name,children:[Object(h.jsx)(R.c,{children:e("input.name")}),Object(h.jsx)(T.a,Object(L.a)({placeholder:"name","data-cy":"name_input",id:"name"},n)),Object(h.jsx)(R.b,{children:r.errors.name})]})}}),Object(h.jsx)(N.a,{name:"email",children:function(t){var n=t.field,r=t.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!i&&r.errors.email&&r.touched.email,children:[Object(h.jsx)(R.c,{children:e("input.email")}),Object(h.jsx)(T.a,Object(L.a)({placeholder:"your@email.com","data-cy":"email_input",id:"email",type:"email"},n)),r.errors.email&&r.touched.email?Object(h.jsx)(R.b,{children:r.errors.email}):null]})}}),Object(h.jsx)(N.a,{name:"password",children:function(t){var n=t.field,r=t.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!i&&r.errors.password&&r.touched.password,children:[Object(h.jsx)(R.c,{children:e("input.password")}),Object(h.jsx)(T.a,Object(L.a)({"data-cy":"password_input",id:"password",type:"password"},n)),r.errors.password&&r.touched.password?Object(h.jsx)(R.b,{children:r.errors.password}):null]})}}),Object(h.jsx)(N.a,{name:"confirmPassword",children:function(t){var n=t.field,r=t.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!i&&r.errors.confirmPassword&&r.touched.confirmPassword,children:[Object(h.jsx)(R.c,{children:e("input.confirmPassword")}),Object(h.jsx)(T.a,Object(L.a)({"data-cy":"confirmPassword_input",id:"confirmPassword",type:"password"},n)),r.errors.confirmPassword&&r.touched.confirmPassword?Object(h.jsx)(R.b,{children:r.errors.confirmPassword}):null]})}}),Object(h.jsxs)(D.n,{spacing:6,children:[Object(h.jsx)(D.n,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between"}),Object(h.jsx)(B.a,{"data-cy":"register_btn",type:"submit",colorScheme:"blue",variant:"solid",isLoading:a,children:e("button.signup")})]})]})}),Object(h.jsx)(D.n,{pt:6,children:Object(h.jsxs)(D.p,{align:"center",children:[e("extra")," ",Object(h.jsx)(D.i,{as:o.b,to:"/login",color:"blue.400",children:e("login")})]})})]})}),Object(h.jsx)(D.f,{flex:1,children:Object(h.jsx)(W.a,{alt:"Login Image",objectFit:"cover",src:"https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1352&q=80"})})]})}var V=n(165),G=n(23),Y=n(12),Q=n(168);function X(e){var t=e.action,n=e.translation,c=e.popupControl,a=e.onConfirm,i=e.data_no,s=e.data_yes,o=c.isOpen,l=c.onClose,u=Object(U.a)(n,{keyPrefix:"".concat(t,".popup")}).t,d=Object(r.useRef)();return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(Q.a,{motionPreset:"slideInBottom",leastDestructiveRef:d,onClose:l,isOpen:o,isCentered:!0,children:[Object(h.jsx)(Q.g,{}),Object(h.jsxs)(Q.d,{children:[Object(h.jsx)(Q.f,{children:u("header")}),Object(h.jsx)(Q.c,{}),Object(h.jsx)(Q.b,{children:u("body")}),Object(h.jsxs)(Q.e,{children:[Object(h.jsx)(B.a,{"data-cy":i,ref:d,onClick:l,children:u("no")}),Object(h.jsx)(B.a,{"data-cy":s,colorScheme:"blue",ml:3,onClick:function(){a(),l()},children:u("yes")})]})]})]})})}var K=n(164),Z=n(81);function $(e){var t=e.popupControl,n=e.onSubmit,c=e.children,a=e.title,i=e.no,s=e.yes,o=e.data_no,l=e.data_yes,u=t.isOpen,d=t.onClose,b=Object(r.useRef)(),j=Object(r.useRef)();return Object(h.jsxs)(Q.j,{initialFocusRef:b,finalFocusRef:j,isOpen:u,onClose:d,children:[Object(h.jsx)(Q.p,{}),Object(h.jsxs)(Q.m,{children:[Object(h.jsx)(Q.o,{children:a}),Object(h.jsx)(Q.l,{}),Object(h.jsx)(Q.k,{pb:6,children:Object(h.jsx)(D.b,{rounded:"lg",bg:Object(Z.d)("white","gray.700"),boxShadow:"none",p:8,children:Object(h.jsx)(D.n,{spacing:4,children:c})})}),Object(h.jsxs)(Q.n,{children:[Object(h.jsx)(B.a,{"data-cy":l,colorScheme:"blue",mr:3,ml:3,onClick:function(){n()},children:s}),Object(h.jsx)(B.a,{"data-cy":o,ml:3,onClick:d,children:i})]})]})]})}function ee(e){ee.displayName="Add or edit pin";var t=e.pin,n=e.popupControl,c=F().createOrUpdatePin,a=Object(r.useState)(t),i=Object(b.a)(a,2),s=i[0],o=i[1],j=Object(U.a)("pins",{keyPrefix:null!==t&&void 0!==t&&t.id?"update":"create"}).t,p=Object(O.e)(),f=p.user,m=p.isAuthed,x=p.error,g=Object(l.g)(),v=M.a().shape({title:M.c().min(2,j("input-error.title.minLength")).max(50,j("input-error.title.maxLength")).required(j("input-error.title.required")),description:M.c().max(255,j("input-error.description.maxLength"))}),w=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),n=new Date,r={id:t.id,title:t.title,description:t.description,fav:t.fav,date:n,userId:t.userId},e.prev=3,e.next=6,c(Object(L.a)({},r));case 6:g("/pins",{replace:!0}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log("Error while trying to update an existing pin",{error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(r.useEffect)((function(){o(t)}),[t]),Object(r.useEffect)((function(){m||g("/login",{replace:!0})}),[m]),m||l.a,Object(h.jsx)(N.c,{initialValues:{id:null===s||void 0===s?void 0:s.id,title:null===s||void 0===s?void 0:s.title,description:null===s||void 0===s?void 0:s.description,fav:Boolean(null===s||void 0===s?void 0:s.fav),userId:f.id},validationSchema:v,children:function(e){var t=e.values;return Object(h.jsx)($,{popupControl:n,onSubmit:function(){return w(t)},title:j("title"),no:j("button.no"),yes:j("button.yes"),data_no:"cancel_btn",data_yes:"submit_btn",children:Object(h.jsxs)(N.b,{children:[Object(h.jsx)(N.a,{name:"title",children:function(e){var t=e.field,n=e.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!x&&n.errors.title&&n.touched.title,children:[Object(h.jsx)(R.c,{children:j("input.title")}),Object(h.jsx)(T.a,Object(L.a)({"data-cy":"title_input",id:"title",type:"title"},t)),n.errors.title&&n.touched.title?Object(h.jsx)(R.b,{"data-cy":"title_error_input",children:n.errors.title}):null]})}}),Object(h.jsx)(N.a,{name:"description",children:function(e){var t=e.field,n=e.form;return Object(h.jsxs)(R.a,{isRequired:!0,isInvalid:!x&&n.errors.description&&n.touched.description,children:[Object(h.jsx)(R.c,{children:j("input.description")}),Object(h.jsx)(K.a,Object(L.a)({"data-cy":"description_text",id:"description",type:"description"},t)),n.errors.description&&n.touched.description?Object(h.jsx)(R.b,{"data-cy":"desc_error_text",children:n.errors.description}):null]})}}),Object(h.jsx)(D.n,{spacing:6,children:Object(h.jsx)(D.n,{direction:{base:"column",sm:"row"},align:"start",justify:"space-between"})})]})})}})}var te=Object(r.memo)((function(e){var t=e.pin;te.displayName="Pin";var n=Object(Y.d)(),c=Object(Y.d)(),a=Object(O.e)(),i=a.user,s=a.isAuthed,o=Object(l.g)(),b=Object(L.a)({},t),j=b.id,p=b.title,f=b.date,m=b.description,x=b.fav,g=F().deletePin,v=F(),w=v.createOrUpdatePin,y=v.setPinToUpdate,C=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Deleting pin with id: ".concat(j)),e.prev=1,e.next=4,g(j);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log("Error while trying to delete a pin",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[1,6]])}))),[g,j]),k=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o("/pins/".concat(j));case 1:case"end":return e.stop()}}),e)}))),[j,o]),S=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date,e.next=4,w({id:j,title:p,date:t,description:m,fav:x?Boolean(!1):Boolean(!0),userId:i.id});case 4:o("/pins",{replace:!0}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while trying to update an existing pin",{error:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[w,y,j,p,m,x,i.id]);return Object(r.useEffect)((function(){y(j)}),[j,y]),s?Object(h.jsx)(D.f,{p:10,w:"full",alignItems:"center",justifyContent:"center",children:Object(h.jsxs)(D.b,{p:4,maxW:"sm",borderWidth:"1px",rounded:"lg",shadow:"md",position:"relative",children:[n.isOpen&&Object(h.jsx)(X,{data_no:"cancel_btn",data_yes:"submit_btn",action:"delete",translation:"pins",popupControl:n,onConfirm:C}),c.isOpen&&Object(h.jsx)(ee,{data_no:"cancel_btn",data_yes:"submit_btn",action:"update",translation:"pins",popupControl:c,pin:t}),Object(h.jsxs)(D.q,{children:[Object(h.jsxs)(D.g,{spacing:6,children:[Object(h.jsx)(B.c,{"data-cy":"fav_btn",size:"md","aria-label":"Edit pin fav",icon:Object(h.jsx)(G.i,{color:x?"cyan.500":"cyan.100"}),onClick:S}),Object(h.jsx)(D.a,{"data-cy":"date_span",size:"lg",variant:"subtle",colorScheme:"purple",children:new Date(f).toLocaleDateString("nl-BE",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),Object(h.jsx)(D.e,{}),Object(h.jsx)(D.h,{"data-cy":"title_h",size:"md",children:p}),Object(h.jsx)(D.e,{}),Object(h.jsxs)(B.b,{spacing:6,justifyContent:"center",size:"md",children:[Object(h.jsx)(B.c,{"data-cy":"view_btn",size:"lg","aria-label":"View pin",icon:Object(h.jsx)(G.j,{}),onClick:k}),Object(h.jsx)(B.c,{"data-cy":"edit_btn",size:"lg","aria-label":"Edit pin",icon:Object(h.jsx)(G.g,{}),onClick:c.onOpen}),Object(h.jsx)(B.c,{"data-cy":"delete_btn",size:"lg","aria-label":"Delete pin",icon:Object(h.jsx)(G.f,{}),onClick:n.onOpen})]})]})]})}):Object(h.jsx)(l.a,{from:"/pins",to:"/login"})})),ne=te,re=function(e){var t=e.handleSearchText,n=Object(r.useState)(""),c=Object(b.a)(n,2),a=c[0],i=c[1],s=Object(r.useCallback)((function(e){i(e.target.value)}),[]),o=Object(r.useCallback)((function(){t(a)}),[a,t]);return Object(h.jsx)(D.g,{minWidth:"max-content",children:Object(h.jsxs)(T.b,{size:"lg",children:[Object(h.jsx)(T.c,{width:"auto",children:Object(h.jsx)(B.c,{size:"lg","aria-label":"Search pin",onClick:o,icon:Object(h.jsx)(G.h,{})})}),Object(h.jsx)(T.a,{minWidth:"max-content",variant:"filled",placeholder:"Filter by pin name or description...",onChange:s})]})})},ce=n(110),ae=n(67),ie=n(186),se=["onClose"],oe=["icon","children"],le=["onOpen"];function ue(e){var t=e.children,n=Object(Y.d)(),r=n.isOpen,c=n.onOpen,a=n.onClose;return Object(h.jsxs)(D.b,{minH:"100vh",bg:Object(Z.d)("white","gray.900"),children:[Object(h.jsx)(de,{onClose:function(){return a},display:{base:"none",md:"block"}}),Object(h.jsx)(Q.h,{autoFocus:!1,isOpen:r,placement:"left",onClose:a,returnFocusOnClose:!1,onOverlayClick:a,size:"full",children:Object(h.jsx)(Q.i,{children:Object(h.jsx)(de,{onClose:a})})}),Object(h.jsx)(je,{display:{base:"flex",md:"none"},onOpen:c}),Object(h.jsx)(D.b,{ml:{base:0,md:60},p:"4",children:t})]})}var de=function(e){var t=e.onClose,n=Object(ce.a)(e,se);return Object(h.jsxs)(D.b,Object(L.a)(Object(L.a)({bg:Object(Z.d)("gray.200","gray.900"),borderRight:"2px",borderRightColor:Object(Z.d)("gray.300","gray.700"),w:{base:"full",md:60},pos:"fixed",h:"full"},n),{},{children:[Object(h.jsxs)(D.f,{h:"20",alignItems:"center",mx:"8",justifyContent:"space-evenly",children:[Object(h.jsx)(D.p,{fontSize:"2xl",fontFamily:"monospace",fontWeight:"bold",children:"Pins Menu"}),Object(h.jsx)(ae.a,{display:{base:"flex",md:"none"},onClick:t})]}),Object(h.jsx)(D.e,{}),Object(h.jsx)(be,{icon:Object(h.jsx)(G.a,{}),children:"Add Pin"},"addpin")]}))},be=function(e){var t=e.icon,n=e.children,r=Object(ce.a)(e,oe),c=Object(Y.d)();return Object(h.jsxs)(D.i,{style:{textDecoration:"none"},_focus:{boxShadow:"none"},children:[c.isOpen&&Object(h.jsx)(ee,{action:"create",translation:"pins",popupControl:c}),Object(h.jsx)(D.f,Object(L.a)(Object(L.a)({justifyContent:"space-evenly",align:"center",p:"4",mx:"4",borderRadius:"lg",role:"group",cursor:"pointer",_hover:{}},r),{},{children:Object(h.jsx)(B.a,{"data-cy":"add_btn",size:"lg",mr:"4",fontSize:"16",_groupHover:{bg:"cyan.400",color:"white"},leftIcon:t,onClick:c.onOpen,children:n})}))]})},je=function(e){var t=e.onOpen,n=Object(ce.a)(e,le);return Object(h.jsxs)(D.f,Object(L.a)(Object(L.a)({ml:{base:0,md:60},px:{base:4,md:24},height:"20",alignItems:"center",bg:Object(Z.d)("white","gray.900"),borderBottomWidth:"1px",borderBottomColor:Object(Z.d)("white","gray.700"),justifyContent:"flex-start"},n),{},{children:[Object(h.jsx)(B.c,{variant:"outline",onClick:t,"aria-label":"open menu",icon:Object(h.jsx)(ie.a,{})}),Object(h.jsx)(D.p,{fontSize:"2xl",ml:"8",fontFamily:"monospace",fontWeight:"bold"})]}))},pe=function(e){var t=e.pins,n=Object(O.e)().user,c=Object(r.useState)(""),a=Object(b.a)(c,2),i=a[0],s=a[1],o=Object(r.useMemo)((function(){return i.length>0?t.sort((function(e,t){return(e.fav>t.fav?-1:1)|(e.date>t.date?-1:1)})).filter((function(e){return e.user.id===n.id&&(e.title.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase()))})):t.sort((function(e,t){return(e.fav>t.fav?-1:1)|(e.date>t.date?-1:1)})).filter((function(e){return e.user.id===n.id}))}),[t,i,n]);return Object(h.jsxs)(D.b,{align:"center",children:[Object(h.jsx)(D.d,{bg:"gray.100",maxW:"auto",children:Object(h.jsx)(re,{handleSearchText:s})}),Object(h.jsxs)(D.f,{align:"auto",justifyContent:"auto",children:[Object(h.jsx)(D.n,{align:"auto",justifyContent:"auto-evenly",children:Object(h.jsx)(ue,{})}),Object(h.jsx)(D.f,{align:"auto",justifyContent:"space-evenly",children:Object(h.jsx)(D.r,{align:"auto",justifyContent:"space-evenly",children:o.map((function(e){return Object(h.jsx)(D.s,{children:Object(h.jsx)(ne,{pin:e},e.id)},e.id)}))})})]})]})},fe=Object(r.memo)(pe),me=function(){var e=F(),t=e.pins,n=e.error,c=e.loading,a=Object(O.e)().isAuthed,i=Object(l.g)();return Object(r.useEffect)((function(){a||i("/login",{replace:!0})}),[a]),Object(r.useEffect)((function(){n&&i("/notFound",{replace:!0})}),[n]),c?Object(h.jsx)(V.a,{"data-cy":"loading",children:Object(h.jsx)("h1",{children:"Loading..."})}):(n&&l.a,a||l.a,Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(fe,{pins:t})}))};function Oe(e){var t=e.children,n=e.role,c=Object(O.e)(),a=c.isAuthed,i=c.hasRole,s=Object(l.f)().pathname;return Object(r.useMemo)((function(){return n?a&&i(n):a}),[a,n,i])?t:Object(h.jsx)(l.a,{from:s,to:"/login"})}var xe=n(166);function he(){var e=Object(O.e)().user,t=Object(r.useState)(e),n=Object(b.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){a(e)}),[e]),Object(h.jsx)(D.c,{py:6,children:Object(h.jsxs)(D.b,{maxW:"620px",w:"full",bg:Object(Z.d)("white","gray.900"),boxShadow:"2xl",rounded:"lg",p:6,textAlign:"center",children:[Object(h.jsx)(xe.a,{size:"xl",src:"https://images.unsplash.com/photo-1520810627419-35e362c5dc07?ixlib=rb-1.2.1&q=80&fm=jpg&crop=faces&fit=crop&h=200&w=200&ixid=eyJhcHBfaWQiOjE3Nzg0fQ",alt:"Avatar Alt",mb:4,pos:"relative",_after:{content:'""',w:4,h:4,bg:"green.300",border:"2px solid white",rounded:"full",pos:"absolute",bottom:0,right:3}}),Object(h.jsx)(D.h,{fontSize:"2xl",fontFamily:"body",children:c.name}),Object(h.jsx)(D.p,{fontWeight:600,color:"gray.500",mb:4,children:c.email}),Object(h.jsx)(D.n,{align:"center",justify:"center",direction:"row",mt:6,children:c.roles.map((function(e){return Object(h.jsx)(D.a,{px:2,py:1,fontWeight:"400",children:e},e)}))})]})})}function ge(){return Object(h.jsx)(D.b,{bg:!0,color:!0,children:Object(h.jsx)(D.d,{maxW:"6xl",py:4,direction:{base:"column",md:"row"},spacing:4,justify:{base:"center",md:"space-between"},align:{base:"center",md:"center"},children:Object(h.jsx)(D.p,{align:"center",children:"\xa9 2022 All rights reserved"})})})}var ve={none:0,"1px":"1px solid","2px":"2px solid","4px":"4px solid","8px":"8px solid"},we=n(5),ye=Object(we.c)({base:"0em",sm:"30em",md:"48em",lg:"62em",xl:"80em","2xl":"96em"}),Ce={1:{50:"#ffffff",100:"#ffffff",200:"#fdfafc",300:"#f6e8ef",400:"#efd5e3",500:"#e0b1cb",600:"#d18db3",700:"#ca7aa7",800:"#c3689a",900:"#b14782"},2:{50:"#ffffff",100:"#f0e7f2",200:"#e6d7e8",300:"#dcc6df",400:"#d2b6d6",500:"#be95c4",600:"#aa74b2",700:"#a064a9",800:"#93579c",900:"#74457b"},3:{50:"#fcfbfd",100:"#e2daec",200:"#d4c9e3",300:"#c7b8da",400:"#baa8d1",500:"#9f86c0",600:"#8464af",700:"#7755a4",800:"#6b4d93",900:"#533b72"},4:{50:"#c1bdd8",100:"#a49dc5",200:"#958dbb",300:"#867db2",400:"#776da8",500:"#5e548e",600:"#49416e",700:"#3e385e",800:"#342e4e",900:"#1e1b2e"},5:{50:"#6b51bd",100:"#543c9e",200:"#4a358c",300:"#402e79",400:"#372767",500:"#231942",600:"#0f0b1d",700:"#06040b",800:"#000000",900:"#000000"},transparent:"transparent",current:"currentColor",black:"#000000",white:"#FFFFFF",whiteAlpha:{50:"#ffffff5c",100:"#ffffff5c",200:"#ffffff5c",300:"#ffffff5c",400:"#ffffff5c",500:"rgba(255, 215, 244, 0.36)",600:"#ffa4e65c",700:"#ff8bdf5c",800:"#ff71d85c",900:"#ff3eca5c"},blackAlpha:{50:"#ffffff5c",100:"#ffffff5c",200:"#ffffff5c",300:"#ffffff5c",400:"#ffffff5c",500:"rgba(255, 215, 244, 0.36)",600:"#ffa4e65c",700:"#ff8bdf5c",800:"#ff71d85c",900:"#ff3eca5c"},gray:{50:"#ffffff",100:"#f9f7fc",200:"#e9e5f5",300:"#d9d2ee",400:"#c9c0e7",500:"#aa9bd9",600:"#8b76cb",700:"#7b64c4",800:"#6b51bd",900:"#543c9f"},red:{50:"#ffffff",100:"#f0e7f2",200:"#e6d7e8",300:"#dcc6df",400:"#d2b6d6",500:"#be95c4",600:"#aa74b2",700:"#a064a9",800:"#93579c",900:"#74457b"},orange:{50:"#c1bdd8",100:"#a49dc5",200:"#958dbb",300:"#867db2",400:"#776da8",500:"#5e548e",600:"#49416e",700:"#3e385e",800:"#342e4e",900:"#1e1b2e"},yellow:{50:"#6b51bd",100:"#543c9e",200:"#4a358c",300:"#402e79",400:"#372767",500:"#231942",600:"#0f0b1d",700:"#06040b",800:"#000000",900:"#000000"},green:{50:"#fcfbfd",100:"#e2daec",200:"#d4c9e3",300:"#c7b8da",400:"#baa8d1",500:"#9f86c0",600:"#8464af",700:"#7755a4",800:"#6b4d93",900:"#533b72"},teal:{50:"#ffffff",100:"#ffffff",200:"#ffffff",300:"#ffffff",400:"#fdfafc",500:"#eed6e6",600:"#dfb2d0",700:"#d8a0c5",800:"#d08eba",900:"#c16aa4"},blue:{50:"#ffffff",100:"#ffffff",200:"#fdfafc",300:"#f6e8ef",400:"#efd5e3",500:"#e0b1cb",600:"#d18db3",700:"#ca7aa7",800:"#c3689a",900:"#b14782"},cyan:{50:"#ffffff",100:"#f6e8f1",200:"#eed6e6",300:"#e7c4db",400:"#e0b1d0",500:"#d18dba",600:"#c269a4",700:"#bb5699",800:"#b1478d",900:"#8c3970"},purple:{50:"#FAF5FF",100:"#E9D8FD",200:"#D6BCFA",300:"#B794F4",400:"#9F7AEA",500:"#805AD5",600:"#6B46C1",700:"#553C9A",800:"#44337A",900:"#322659"},pink:{50:"#FFF5F7",100:"#FED7E2",200:"#FBB6CE",300:"#F687B3",400:"#ED64A6",500:"#D53F8C",600:"#B83280",700:"#97266D",800:"#702459",900:"#521B41"},linkedin:{50:"#E8F4F9",100:"#CFEDFB",200:"#9BDAF3",300:"#68C7EC",400:"#34B3E4",500:"#00A0DC",600:"#008CC9",700:"#0077B5",800:"#005E93",900:"#004471"},facebook:{50:"#E8F4F9",100:"#D9DEE9",200:"#B7C2DA",300:"#6482C0",400:"#4267B2",500:"#385898",600:"#314E89",700:"#29487D",800:"#223B67",900:"#1E355B"},messenger:{50:"#D0E6FF",100:"#B9DAFF",200:"#A2CDFF",300:"#7AB8FF",400:"#2E90FF",500:"#0078FF",600:"#0063D1",700:"#0052AC",800:"#003C7E",900:"#002C5C"},whatsapp:{50:"#dffeec",100:"#b9f5d0",200:"#90edb3",300:"#65e495",400:"#3cdd78",500:"#22c35e",600:"#179848",700:"#0c6c33",800:"#01421c",900:"#001803"},twitter:{50:"#E5F4FD",100:"#C8E9FB",200:"#A8DCFA",300:"#83CDF7",400:"#57BBF5",500:"#1DA1F2",600:"#1A94DA",700:"#1681BF",800:"#136B9E",900:"#0D4D71"},telegram:{50:"#E3F2F9",100:"#C5E4F3",200:"#A2D4EC",300:"#7AC1E4",400:"#47A9DA",500:"#0088CC",600:"#007AB8",700:"#006BA1",800:"#005885",900:"#003F5E"},discord:"#e0b1cb"},ke={none:"0",sm:"0.125rem",base:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},Se={xs:"0 0 0 1px rgba(0, 0, 0, 0.05)",sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",base:"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)","2xl":"0 25px 50px -12px rgba(0, 0, 0, 0.25)",outline:"0 0 0 3px rgba(66, 153, 225, 0.6)",inner:"inset 0 2px 4px 0 rgba(0,0,0,0.06)",none:"none","dark-lg":"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px",largeSoft:"rgba(60, 64, 67, 0.15) 0px 2px 10px 6px;"},Fe={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem",px:"1px",.5:"0.125rem",1.5:"0.375rem",2.5:"0.625rem",3.5:"0.875rem",max:"max-content",min:"min-content",full:"100%","3xs":"14rem","2xs":"16rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem","8xl":"90rem",container:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px"}},Pe={1:"0.25rem",2:"0.5rem",3:"0.75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem",px:"1px",.5:"0.125rem",1.5:"0.375rem",2.5:"0.625rem",3.5:"0.875rem"},Ee={property:{common:"background-color, border-color, color, fill, stroke, opacity, box-shadow, transform",colors:"background-color, border-color, color, fill, stroke",dimensions:"width, height",position:"left, right, top, bottom",background:"background-color, background-image, background-position"},easing:{"ease-in":"cubic-bezier(0.4, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.2, 1)","ease-in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},duration:{"ultra-fast":"50ms",faster:"100ms",fast:"150ms",normal:"200ms",slow:"300ms",slower:"400ms","ultra-slow":"500ms"}},De={letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeights:{3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",normal:"normal",none:"1",shorter:"1.25",short:"1.375",base:"1.5",tall:"1.625",taller:"2"},fontWeights:{hairline:"100",thin:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},fonts:{heading:"Work Sans, system-ui, sans-serif",body:"Inter, system-ui, sans-serif",mono:'SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace'},fontSizes:{xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem","5xl":"3rem","6xl":"3.75rem","7xl":"4.5rem","8xl":"6rem","9xl":"8rem"}},Ae={hide:-1,auto:"auto",base:0,docked:10,dropdown:1e3,sticky:1100,banner:1200,overlay:1300,modal:1400,popover:1500,skipLink:1600,toast:1700,tooltip:1800},_e={none:"0",sm:"4px",base:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},Be=Object(L.a)(Object(L.a)({breakpoints:ye,zIndices:Ae,radii:ke,blur:_e,colors:Ce},De),{},{sizes:Fe,shadows:Se,space:Pe,borders:ve,transition:Ee}),ze=Object(L.a)(Object(L.a)({direction:"ltr"},Be),{},{config:{useSystemColorMode:!1,initialColorMode:"light",cssVarPrefix:"chakra"}}),Ie=Object(s.b)(ze),Le=n(35),qe=n(57),Re=n(167);function Te(e){var t=e.handleEdit,n=e.id,c=!n,a=v(),i=a.setCommentToUpdate,s=a.deleteComment,o=Object(Re.d)(),l=o.isEditing,b=o.getCancelButtonProps,j=o.getEditButtonProps,p=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(n);case 3:i(null),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error while trying to delete a comment",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[i,s,n]);return l?Object(h.jsxs)(B.b,{justifyContent:"center",size:"lg",children:[Object(h.jsx)(B.c,{icon:Object(h.jsx)(G.d,{}),onClick:t}),Object(h.jsx)(B.c,Object(L.a)({icon:Object(h.jsx)(G.e,{})},b()))]}):c?null:Object(h.jsxs)(B.b,{justifyContent:"center",size:"lg",children:[Object(h.jsx)(B.c,Object(L.a)({icon:Object(h.jsx)(G.g,{})},j())),Object(h.jsx)(B.c,{icon:Object(h.jsx)(G.f,{}),onClick:p})]})}var We=function e(t){var n=t.props;e.displayName="Comment";var c=Object(O.e)().isAuthed,a=Object(L.a)({},n),i=a.id,s=a.comment,o=a.date,j=a.pin,p=v().createOrUpdateComment,f=Object(r.useState)(s),m=Object(b.a)(f,2),x=m[0],g=m[1],w=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new Date,e.next=4,p({id:i,comment:x,date:t,pinId:j.id});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log("Error while trying to update a comment",{error:e.t0});case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),[p,i,j.id,x]),y=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,console.log("comment: ",n),g(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return c||l.a,Object(h.jsx)(D.b,{bg:"gray.100",borderRadius:30,children:Object(h.jsx)(D.f,{p:6,children:Object(h.jsxs)(Re.a,{submitOnBlur:!1,isPreviewFocusable:!1,bg:"gray.100",defaultValue:x,children:[Object(h.jsx)(Re.b,{size:"2xl",variant:"outline"}),Object(h.jsx)(K.a,{as:Re.c,onChange:y}),Object(h.jsxs)(D.g,{children:[Object(h.jsx)(D.a,{size:"lg",variant:"solid",children:new Date(o).toLocaleDateString("nl-BE",{day:"2-digit",month:"2-digit",year:"numeric"})}),Object(h.jsx)(Te,{id:i,handleEdit:w})]})]})})})},Ne=Object(r.memo)(We);function Me(){Me.displayName="Add Comment";var e=F().currentPin,t=v().createOrUpdateComment,n=Object(r.useState)("Add a comment"),c=Object(b.a)(n,2),a=c[0],i=c[1],s=Object(r.useCallback)(Object(d.a)(Object(u.a)().mark((function n(){var r;return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=new Date,n.next=4,t({comment:a,date:r,pinId:e.id});case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log("Error while trying to update a comment",{error:n.t0});case 9:case"end":return n.stop()}}),n,null,[[0,6]])}))),[t,e.id,a]),o=Object(r.useCallback)(function(){var e=Object(d.a)(Object(u.a)().mark((function e(t){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,i(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(h.jsx)(D.b,{bg:"gray.200",borderRadius:20,children:Object(h.jsx)(D.f,{p:6,children:Object(h.jsxs)(Re.a,{submitOnBlur:!1,bg:"gray.200",placeholder:"Add a comment",children:[Object(h.jsx)(Re.b,{size:"2xl",variant:"outline"}),Object(h.jsx)(K.a,{as:Re.c,onChange:o}),Object(h.jsx)(Te,{handleEdit:s})]})})})}var Ue=function(){var e=v(),t=e.comments,n=e.loading,c=F().currentPin,a=Object(Y.d)(),i=a.isOpen,s=a.onToggle,o=Object(r.useMemo)((function(){return t.filter((function(e){return e.pin.id===c.id}))}),[t,c]);return n?Object(h.jsx)(V.a,{children:Object(h.jsx)("h1",{children:"Loading..."})}):Object(h.jsxs)(D.b,{align:"left",children:[Object(h.jsx)(D.n,{p:6,children:Object(h.jsxs)(B.a,{leftIcon:Object(h.jsx)(G.c,{}),onClick:s,children:["Comments (",o.length," )"]})}),Object(h.jsx)(qe.a,{in:i,animateOpacity:!0,children:Object(h.jsxs)(D.q,{p:6,align:"auto",justifyContent:"auto",children:[Object(h.jsx)(Me,{}),o.sort((function(e,t){return e.date>t.date?-1:1})).map((function(e){return Object(h.jsx)(Ne,{props:e},e.id)}))]})})]})},He=Object(r.memo)((function(e){var t=e.id;He.displayName="PinDetail";var n=F(),c=n.setPinToUpdate,a=n.currentPin,i=n.error,s=n.loading,o=Object(O.e)().isAuthed,u=Object(U.a)("pins",{keyPrefix:"view"}).t,d=Object(l.g)();return Object(r.useEffect)((function(){c(t)}),[t,c]),Object(r.useEffect)((function(){o||d("/login",{replace:!0})}),[o]),Object(r.useEffect)((function(){i&&d("/notFound",{replace:!0})}),[i]),s?Object(h.jsx)(V.a,{"data-cy":"loading",children:Object(h.jsx)("h1",{children:"Loading..."})}):(i&&l.a,o||l.a,Object(h.jsxs)(D.d,{maxW:"7xl",children:[Object(h.jsxs)(D.l,{columns:{base:1,lg:1},spacing:{base:8,md:10},py:{base:18,md:24},children:[Object(h.jsx)(D.f,{}),Object(h.jsxs)(D.n,{spacing:{base:6,md:10},divider:Object(h.jsx)(D.o,{borderColor:Object(Z.d)("gray.200","gray.600")}),children:[Object(h.jsx)(D.b,{as:"header",children:Object(h.jsxs)(D.h,{lineHeight:1.1,fontWeight:600,fontSize:{base:"2xl",sm:"4xl",lg:"5xl"},children:[a.title,"  ","    ","  ",a.fav?Object(h.jsx)(Le.a,{color:"red.600",boxSize:"0.5em",as:G.i}):null]})}),Object(h.jsxs)(D.n,{spacing:{base:4,sm:6},direction:"column",divider:Object(h.jsx)(D.o,{borderColor:Object(Z.d)("gray.200","gray.600")}),children:[Object(h.jsx)(D.n,{spacing:{base:4,sm:6},children:Object(h.jsx)(D.p,{color:Object(Z.d)("gray.500","gray.400"),fontSize:"2xl",fontWeight:"300",children:a.description})}),Object(h.jsxs)(D.b,{children:[Object(h.jsx)(D.p,{fontSize:{base:"16px",lg:"18px"},color:Object(Z.d)("yellow.500","yellow.300"),fontWeight:"500",textTransform:"uppercase",mb:"4",children:u("input.user.title")}),Object(h.jsxs)(D.j,{spacing:2,children:[Object(h.jsxs)(D.k,{children:[Object(h.jsxs)(D.p,{as:"span",fontWeight:"bold",children:[u("input.user.name"),":"]})," ",a.user.name]}),Object(h.jsxs)(D.k,{children:[Object(h.jsxs)(D.p,{as:"span",fontWeight:"bold",children:[u("input.user.email"),":"]})," ",a.user.email]}),Object(h.jsxs)(D.k,{children:[Object(h.jsx)(D.p,{as:"span",fontWeight:"bold",children:"Created on:"})," ",Object(h.jsx)(D.a,{size:"lg",variant:"subtle",colorScheme:"purple",children:new Date(a.date).toLocaleDateString("nl-BE",{day:"2-digit",month:"2-digit",year:"numeric"})})]})]})]})]})]})]}),Object(h.jsx)(D.e,{}),Object(h.jsx)(D.n,{align:"auto",justifyContent:"auto",p:2,children:Object(h.jsx)(Ue,{})})]}))})),Je=He,Ve=function(){var e=Object(l.h)().id,t=Object(l.g)(),n=F().setPinToUpdate;return Object(r.useEffect)((function(){n(e)}),[e,n]),Object(h.jsxs)(D.f,{children:[Object(h.jsx)(D.n,{p:6,children:Object(h.jsx)(B.c,{size:"lg","aria-label":"View pin",icon:Object(h.jsx)(G.b,{}),onClick:function(){return t(-1)}})}),Object(h.jsx)(Je,{id:e})]})};function Ge(){var e=Object(l.g)();return Object(h.jsxs)(D.b,{textAlign:"center",py:10,px:6,children:[Object(h.jsx)(D.h,{display:"inline-block",as:"h2",size:"2xl",bgGradient:"linear(to-r, teal.400, teal.600)",backgroundClip:"text",children:"404"}),Object(h.jsx)(D.p,{fontSize:"18px",mt:3,mb:2,children:"Page Not Found"}),Object(h.jsx)(D.p,{color:"gray.500",mb:6,children:"The page you're looking for does not seem to exist"}),Object(h.jsx)(B.a,{onClick:function(){return e("/",{replace:!0})},"data-cy":"home_btn",colorScheme:"teal",bgGradient:"linear(to-r, teal.400, teal.500, teal.600)",color:"white",variant:"solid",children:"Go to Home"})]})}var Ye=function(){return Object(h.jsx)(s.a,{theme:Ie,children:Object(h.jsx)(O.a,{children:Object(h.jsx)(P,{children:Object(h.jsx)(w,{children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(I,{}),Object(h.jsxs)(l.d,{children:[Object(h.jsx)(l.b,{exact:!0,path:"/",element:Object(h.jsx)(A,{})}),Object(h.jsx)(l.b,{exact:!0,path:"/pins",element:Object(h.jsx)(Oe,{children:Object(h.jsx)(me,{})})}),Object(h.jsx)(l.b,{exact:!0,path:"/pins/:id",element:Object(h.jsx)(Oe,{children:Object(h.jsx)(Ve,{})})}),Object(h.jsx)(l.b,{exact:!0,path:"/account",element:Object(h.jsx)(Oe,{children:Object(h.jsx)(he,{})})}),Object(h.jsx)(l.b,{exact:!0,path:"/notFound",element:Object(h.jsx)(Ge,{})}),Object(h.jsx)(l.b,{exact:!0,path:"/login",element:Object(h.jsx)(H,{})}),Object(h.jsx)(l.b,{exact:!0,path:"/register",element:Object(h.jsx)(J,{})}),Object(h.jsx)(l.b,{path:"/*",element:Object(h.jsx)(Ge,{})})]}),Object(h.jsx)(ge,{})]})})})})})},Qe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,363)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))},Xe=n(128),Ke=n(83),Ze=n(182),$e=n(183),et=n(184),tt=n(185);Xe.a.use(Ke.e).init({resources:{en:{translation:tt,pages:Ze,pins:$e,comments:et}},lng:"en",react:{useSuspense:!0},fallbackLng:"en",debug:!0,defaultNS:""}).then();Xe.a;i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Ye,{})}),document.getElementById("root")),Qe()},70:function(e,t,n){"use strict";var r=n(124),c=n(0),a=n(357);t.a=function(){var e=Object(a.a)().t,t=Object(r.a)({isClosable:!0,position:"bottom",duration:2400});return{showToast:Object(c.useCallback)((function(n,r){t({title:e(n),duration:2400,status:r,isClosable:!0})}),[t,e])}}}},[[355,1,2]]]);
//# sourceMappingURL=main.20078ce7.chunk.js.map